import db.sqlite
import x.json2 as json
import x.json2.decoder2

struct Tiddler {
	id      int
	created int
}

struct Tiddlers {
	id      int @[primary; sql: serial]
	created string
}

fn main() {
	tiddler := decoder2.decode[Tiddler]('{}') or { Tiddler{} }
	db := sqlite.connect(':memory:') or { panic(err) }
	sql db {
		create table Tiddlers
		insert tiddler into Tiddlers
	}!
}
